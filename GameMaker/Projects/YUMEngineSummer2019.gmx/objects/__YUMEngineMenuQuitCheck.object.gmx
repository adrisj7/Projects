<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>&lt;undefined&gt;</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>0</depth>
  <persistent>-1</persistent>
  <parentName>__YUMEngineMenuParent</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>604</id>
        <kind>0</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>0</useapplyto>
        <exetype>1</exetype>
        <functionname>action_inherited</functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// Choices

_choices = array_create(2);
_choices[@ 0] = "Yes";
_choices[@ 1] = "No";

_quitting = false;

_choice_selected = 0;
_select_timer = 0;
</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// Openers

var sw = view_wview[0],
    sh = view_hview[0];

// prompt width and height
var pw = 128 + 48 + 8,
    ph = 32;

// choice width and height
var cw = 32,
    ch = 48;

_prompt_opener = dialogue_opener_create(sw/2 - pw/2, sh/2 - 16 - ph, pw, ph);
dialogue_opener_set_open_duration(_prompt_opener, 0);
dialogue_opener_set_close_duration(_prompt_opener, 0);
_choice_opener = dialogue_opener_create(sw/2 - cw/2, sh/2, cw, ch);
dialogue_opener_set_open_duration(_choice_opener, 0);
dialogue_opener_set_close_duration(_choice_opener, 0);

</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// Openers
if _active {
    if dialogue_opener_is_closed(_prompt_opener)
        dialogue_opener_open(_prompt_opener);
    if dialogue_opener_is_closed(_choice_opener)
        dialogue_opener_open(_choice_opener);
} else {
    if dialogue_opener_is_open(_prompt_opener)
        dialogue_opener_close(_prompt_opener);
    if dialogue_opener_is_open(_choice_opener)
        dialogue_opener_close(_choice_opener);
}
</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// Choice selected

if _active {
    if !_quitting &amp;&amp; !__menu_is_fading() {
        // Select. TODO: Standardize this to avoid copy pasting
        var len = array_length_1d(_choices);
        var delta = __dialogue_check_down() - __dialogue_check_up();
        _choice_selected += delta;
        if _choice_selected &lt; 0
            _choice_selected = len - 1;
        if _choice_selected &gt;= len
            _choice_selected = 0;
        
        // Selection
        if __dialogue_check_progress_pressed() {
            switch _choice_selected {
                case 0: // Yes!
                    // Do thing
                    _quitting = true;
                    screen_set_fade(1, 30);
                    break;
                case 1: // No
                    menu_close();
                    break;
            }
        }
    }
} else {
    // Default choice
    _choice_selected = 0;
}
</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// Select timer
if _active &amp;&amp; !__menu_is_fading() {
    ++_select_timer;
} else {
    _select_timer = 0;
}
</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// Quitting

if _active &amp;&amp; _quitting {
    if screen_get_fade_percent() == 1 {
        game_restart();
    }
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="8" enumb="74">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// Background
display_set_gui_size(view_wview[0], view_hview[0]);

if _active {
    draw_set_alpha(1);
    draw_set_color(c_black);
    draw_rectangle(0, 0, view_wview[0], view_hview[0], false);
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="8" enumb="64">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// Draw dialogue prompt and choices
display_set_gui_size(view_wview[0], view_hview[0]);

// Prompt
var tx = dialogue_opener_get_window_x(_prompt_opener) + dialogue_get_text_padding_x(),
    ty = dialogue_opener_get_window_y(_prompt_opener) + dialogue_get_text_padding_y(),
dialogue_draw_text(tx, ty, "End game and return to menu?");

// Choice
// TODO: Add function to draw choice over window
var cx = dialogue_opener_get_window_x(_choice_opener),
    cy = dialogue_opener_get_window_y(_choice_opener),
    cw = dialogue_opener_get_window_width(_choice_opener),
    ch = dialogue_opener_get_window_height(_choice_opener);
dialogue_draw_choice(cx, cy, cw, ch, _choices, _choice_selected, _select_timer);

</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints/>
</object>
